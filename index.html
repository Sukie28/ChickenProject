<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chicken</title>
    <!-- 引入 Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- 引入 jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body style="background-color:black;">
    <div class="container">
        <div class="row">
            <!-- 第一個區塊 -->
            <div class="col-md-4">
                <div class="p-3 border bg-dark text-white">總計</div>
                <div class="p-3 border bg-dark text-white" id="totalAmount"></div>
                <div class="p-3 border bg-dark text-white" id="groupb"></div>
                <button class="btn btn-warning m-1" onclick="clearAll()">總清除</button>
            </div>
            <!-- 第二個區塊 -->
            <div class="col-md-4">
                <div class="p-3 border bg-dark text-white" >已點清單</div>
                <div class="p-3 border bg-dark text-white"id="orderList"></div>
            </div>
            <!-- 第三個區塊 -->
            <div class="col-md-4">
                <div class="p-3 border bg-dark text-white">單價</div>
                <button class="btn btn-primary m-1" onclick="addItem(5)">5</button>
                <button class="btn btn-primary m-1" onclick="addItem(10)">10</button>
                <button class="btn btn-primary m-1" onclick="addItem(20)">20</button>
            </div>
        </div>
    </div>

    <!-- 引入 Bootstrap JS (可選) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let totalAmount = 0;
        let itemCounts = {};

        function addItem(price) {
            // 更新已點清單
            const itemId = `item-${Date.now()}`;
            $('#orderList').append(`
                <div id="${itemId}" class="d-flex justify-content-between">
                    <span>${price}</span>
                    <button class="btn btn-danger btn-sm" onclick="removeItem('${itemId}', ${price})">刪除</button>
                </div>
            `);
            // 更新總金額
            totalAmount += price;
            $("#totalAmount").text(totalAmount);
            
            // 更新金額種類及數量
            if (itemCounts[price]) {
                itemCounts[price]++;
            } else {
                itemCounts[price] = 1;
            }
            updateGroupb();
        }

        function removeItem(itemId, price) {
        	$(`#${itemId}`).remove();
            totalAmount -= price;
            $("#totalAmount").text(totalAmount);
            
            // 更新金額種類及數量
            if (itemCounts[price]) {
                itemCounts[price]--;
                if (itemCounts[price] === 0) {
                    delete itemCounts[price];
                }
            }
            updateGroupb();
        }
        
        
        function updateGroupb() {
            let groupbContent = '數量統計:<br>';
            for (const [price, count] of Object.entries(itemCounts)) {
            	groupbContent += `
                    <div class="d-flex justify-content-between">
                        <span>金額 ${price}</span>
                        <span>${count} 個</span>
                    </div>
                `;
            }
            $('#groupb').html(groupbContent);
        
        }
        
        function clearAll() {
            $('#orderList').empty();
            totalAmount = 0;
            itemCounts = {};
            $('#totalAmount').text(totalAmount);
            updateGroupb();
        }
   </script>
</body>
</html>